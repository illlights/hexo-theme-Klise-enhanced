
<!DOCTYPE html>
<html lang="<%=config.language%>" >
<head>
  <%-partial('partials/head')%>

  <!-- 解决暗色模式闪白：优先设置 data-theme -->
  <script>
    (function() {
      try {
        var theme = localStorage.getItem('theme');
        if (theme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
        } else {
          document.documentElement.removeAttribute('data-theme');
        }
      } catch(e){}
    })();
  </script>
</head>
<body class="notransition">
  <script defer>
    setTimeout(() => document.body.classList.remove("notransition"), 75);
  </script>
  <%-partial('partials/header')%>
  <%- body %>
  <%-partial('partials/foot')%>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.body.classList.add('loaded');
    });
  </script>
</body>
</html>
