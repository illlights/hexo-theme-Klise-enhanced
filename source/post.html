
<!DOCTYPE html>
<html lang="zh-CN" >
<head>
  


<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arch Linux 用户的第一课 [ 喑光絮语 ]</title>

  <link rel="icon" href="/img/favicon.ico">


    <meta name="author" content="illlights">


    <meta name="subtitle" content="illlights blog">


    <meta name="Description" content="刚刚脱离高级趣味，所以博客不想太复杂了">


    <meta name="keywords" content=",blog, comments, entertainment">


  <link rel="alternate" href="/atom.xml " title="喑光絮语" type="application/atom+xml">


  
    <link rel="stylesheet" href="/css/main.css">
  


  <!-- 解决暗色模式闪白：优先设置 data-theme -->
  <script>
    (function() {
      try {
        var theme = localStorage.getItem('theme');
        if (theme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
        } else {
          document.documentElement.removeAttribute('data-theme');
        }
      } catch(e){}
    })();
  </script>
<!-- hexo injector head_end start --><style>/* 布局样式 */
.hexo-tips-layout {
    margin: 0.5rem 0;
    padding: 0.5rem 1.5rem;
    border-radius: 8px;
    border: 1px solid;
    border-left-width: 6px;
    display: flex;
    align-items: center;
    transition: transform 0.3s ease;
    min-width: 2rem;
    height:auto;
    overflow-x: auto; 
    overflow-y: hidden; 
}

.hexo-tips-layout:hover {
    transform: translateX(5px);
}

.hexo-tips-layout .icon {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 1rem;
    font-size: clamp(2em, 2vw, 3em);
    min-width: 2rem;
    scale:1.5;
    transition: transform 0.3s ease;
}

.hexo-tips-layout:hover .icon {
    transform: scale(1.3);
}

.hexo-tips-layout .content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    transition: transform 0.3s ease;
}

.hexo-tips-layout:hover .content {
    transform: translateX(3px);
}

/* 响应式调整 */
@media screen and (max-width: 768px) {
    .hexo-tips-layout {
        padding: 1rem;
    }
}

/* 为每种类型的提示框添加主题样式 */
[class^="tips-style-"] {
    --tips-light-bg: #fff; /* 默认值 */
    --tips-dark-bg: #333;  /* 默认值 */
    --tips-border: #000;   /* 默认值 */
}

/* 主题样式规则 */
[class^="hexo-tips-"] {
    border-color: var(--tips-border);
}

[class^="hexo-tips-"] .icon {
    color: var(--tips-border);
}

/* 1. 手动暗色模式优先 */
html.dark [class^="hexo-tips-"] {
    background-color: var(--tips-dark-bg);
}

/* 2. 系统暗色模式其次 */
@media (prefers-color-scheme: dark) {
    html:not(.light) [class^="hexo-tips-"] {
        background-color: var(--tips-dark-bg);
    }
}

/* 3. 亮色模式最后 */
html:not(.dark) [class^="hexo-tips-"],
html.light [class^="hexo-tips-"] {
    background-color: var(--tips-light-bg);
}</style><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>
<body class="notransition">
  <script defer>
    setTimeout(() => document.body.classList.remove("notransition"), 75);
  </script>
  <div class="navbar" role="navigation">
    <nav class="menu">
      <input type="checkbox" id="menu-trigger" class="menu-trigger" />
      <label for="menu-trigger">
        <span class="menu-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 512 512"
          >
            <path
              d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"
            />
          </svg>
        </span>
      </label>
      <a id="mode">
        <svg
          class="mode-sunny"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 512 512"
        >
          <title>LIGHT</title>
          <line
            x1="256"
            y1="48"
            x2="256"
            y2="96"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="256"
            y1="416"
            x2="256"
            y2="464"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="403.08"
            y1="108.92"
            x2="369.14"
            y2="142.86"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="142.86"
            y1="369.14"
            x2="108.92"
            y2="403.08"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="464"
            y1="256"
            x2="416"
            y2="256"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="96"
            y1="256"
            x2="48"
            y2="256"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="403.08"
            y1="403.08"
            x2="369.14"
            y2="369.14"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="142.86"
            y1="142.86"
            x2="108.92"
            y2="108.92"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <circle
            cx="256"
            cy="256"
            r="80"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
        </svg>
        <svg
          class="mode-moon"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 512 512"
        >
          <title>DARK</title>
          <line
            x1="256"
            y1="48"
            x2="256"
            y2="96"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="256"
            y1="416"
            x2="256"
            y2="464"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="403.08"
            y1="108.92"
            x2="369.14"
            y2="142.86"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="142.86"
            y1="369.14"
            x2="108.92"
            y2="403.08"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="464"
            y1="256"
            x2="416"
            y2="256"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="96"
            y1="256"
            x2="48"
            y2="256"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="403.08"
            y1="403.08"
            x2="369.14"
            y2="369.14"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="142.86"
            y1="142.86"
            x2="108.92"
            y2="108.92"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <circle
            cx="256"
            cy="256"
            r="80"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
        </svg>
      </a>
      <div class="trigger">
        <div class="trigger-container">
          
            
            
            
            
            
            
            <a class="menu-link " href="/"> 主页</a>
          
            
            
            
            
            
            
            <a class="menu-link " href="/tags/"> 标签</a>
          
            
            
            
            
            
            
            <a class="menu-link " href="/categories/"> 类别</a>
          
            
            
            
            
            
            
            <a class="menu-link " href="/archives/"> 档案馆</a>
          
            
            
            
            
            
            
            <a class="menu-link " href="/friends/"> 友链</a>
          
            
            
            
            
            
            
            <a class="menu-link " target="_blank" rel="noopener" href="https://www.illlights.com"> 关于</a>
          
        </div>
      </div>
    </nav>
  </div>
  <button id="toTopBtn"><i class="fa-solid fa-hand-point-up " ></i></button>
<button id="toggleButton"><i class="fa-solid fa-chart-bar " ></i></button>
<div id="overlay" class="overlay">
  <div class="content">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%AE%89%E8%A3%85%E5%AA%92%E4%BB%8B"><span class="toc-text">准备安装媒介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Step1%EF%BC%9A%E4%B8%8B%E8%BD%BD-ISO-%E9%95%9C%E5%83%8F"><span class="toc-text">Step1：下载 ISO 镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step2%EF%BC%9A%E9%AA%8C%E8%AF%81-PGP-%E7%AD%BE%E5%90%8D%E8%A7%81"><span class="toc-text">Step2：验证 PGP 签名见</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step3%EF%BC%9A%E4%B8%8B%E8%BD%BD-Rufus"><span class="toc-text">Step3：下载 Rufus</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step4-%E5%B0%86-ISO-%E7%83%A7%E5%BD%95%E8%BF%9B-U-%E7%9B%98"><span class="toc-text">Step4: 将 ISO 烧录进 U 盘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5%E5%AE%89%E8%A3%85%E7%94%A8%E7%B3%BB%E7%BB%9F%EF%BC%88Live-System%EF%BC%89%E5%87%86%E5%A4%87%E7%A1%AC%E7%9B%98%E5%AE%89%E8%A3%85"><span class="toc-text">进入安装用系统（Live System）准备硬盘安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Step5%EF%BC%9A%E7%A6%81%E7%94%A8-reflector%EF%BC%88%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F%EF%BC%89"><span class="toc-text">Step5：禁用 reflector（为什么？）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step6%EF%BC%9A%E9%AA%8C%E8%AF%81-UEFI-%E5%90%AF%E5%8A%A8"><span class="toc-text">Step6：验证 UEFI 启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step7%EF%BC%9A%E8%81%94%E7%BD%91"><span class="toc-text">Step7：联网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step8%EF%BC%9A%E6%9B%B4%E6%96%B0%E6%97%B6%E9%97%B4"><span class="toc-text">Step8：更新时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step9%EF%BC%9A%E7%A1%AE%E8%AE%A4%E5%AE%89%E8%A3%85%E5%88%B0%E9%82%A3%E4%B8%AA%E7%A1%AC%E7%9B%98"><span class="toc-text">Step9：确认安装到那个硬盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step10%EF%BC%9A%E5%88%86%E5%8C%BA"><span class="toc-text">Step10：分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step11%EF%BC%9A%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-text">Step11：格式化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step12%EF%BC%9A%E6%8C%82%E8%BD%BD%E7%B3%BB%E7%BB%9F"><span class="toc-text">Step12：挂载系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86-Arch-Linux-%E5%AE%89%E8%A3%85%E5%88%B0%E7%A1%AC%E7%9B%98%E4%B8%AD"><span class="toc-text">将 Arch Linux 安装到硬盘中</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Step13%EF%BC%9A%E4%B8%BA%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84-Arch-Linux-%E6%9B%B4%E6%8D%A2%E9%95%9C%E5%83%8F%E6%BA%90"><span class="toc-text">Step13：为内存中的 Arch Linux 更换镜像源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step14%EF%BC%9A%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F"><span class="toc-text">Step14：安装系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step15%EF%BC%9Afstab-%E7%94%A8%E6%9D%A5%E5%AE%9A%E4%B9%89%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA"><span class="toc-text">Step15：fstab 用来定义磁盘分区</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%A1%AC%E7%9B%98%E4%B8%AD%E7%9A%84-Arch-Linux"><span class="toc-text">配置硬盘中的 Arch Linux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Step16%EF%BC%9A%E6%8A%8A%E7%8E%AF%E5%A2%83%E5%88%87%E6%8D%A2%E5%88%B0%E6%96%B0%E7%B3%BB%E7%BB%9F%E7%9A%84-mnt-%E4%B8%8B"><span class="toc-text">Step16：把环境切换到新系统的&#x2F;mnt 下</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step17%EF%BC%9A%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA"><span class="toc-text">Step17：设置时区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step19%EF%BC%9A%E8%AE%BE%E7%BD%AE-Locale-%E8%BF%9B%E8%A1%8C%E6%9C%AC%E5%9C%B0%E5%8C%96"><span class="toc-text">Step19：设置 Locale 进行本地化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step19%EF%BC%9A%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-text">Step19：设置主机名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step20%EF%BC%9A%E4%B8%BA-root-%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81"><span class="toc-text">Step20：为 root 用户设置密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step21%EF%BC%9A%E5%AE%89%E8%A3%85%E5%BE%AE%E7%A0%81"><span class="toc-text">Step21：安装微码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step22%EF%BC%9A%E5%AE%89%E8%A3%85%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F"><span class="toc-text">Step22：安装引导程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%88%90%E5%AE%89%E8%A3%85"><span class="toc-text">完成安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE"><span class="toc-text">新系统的基本设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Step1%EF%BC%9A%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F"><span class="toc-text">Step1：更新系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step2%EF%BC%9A%E5%87%86%E5%A4%87%E9%9D%9E-root-%E7%94%A8%E6%88%B7"><span class="toc-text">Step2：准备非 root 用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step3%EF%BC%9A%E5%AE%89%E8%A3%85-KDE-Plasma-%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83"><span class="toc-text">Step3：安装 KDE Plasma 桌面环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step4%EF%BC%9A%E9%85%8D%E7%BD%AE-greeter-sddm"><span class="toc-text">Step4：配置 greeter sddm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step5%EF%BC%9A%E5%BC%80%E5%90%AF-32-%E4%BD%8D%E6%94%AF%E6%8C%81%E5%BA%93"><span class="toc-text">Step5：开启 32 位支持库</span></a></li></ol></li></ol>
    <button id="closeButton"><i class="fa-solid fa-circle-xmark"></i></button>
  </div>
</div>
<div class="wrapper post">
  <head>
    <!-- 引入 Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  </head>



  <main class="page-content glass-wrapper" aria-label="Content">
      <header class="header">
        
          <div class="tags">
            <a href="/tags/Linux/" class="tag"># Linux</a>
          </div>
        
        <h1 class="header-title" itemprop="headline">Arch Linux 用户的第一课</h1>
          <div class="post-meta">
            最后更新: <time>Sep 16, 2024</time>
            作者: <span itemprop="author">
              <span itemprop="name">illlights</span>
            </span>
            字数: <span class="post-count">2.7k</span>
            预计阅读时间: <span class="post-count">11min</span> 
          </div>       
        </header>
          <div class="page-content"><p>其实就是一个安装教程。</p>
<p>Arch Linux 安装已经被大家写烂了，这篇肯定没有<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/installation_guide">官方 Wiki 安装指南</a>写的好，所以能引用的地方都直接用引用，主要是突出整个流程并写一写为什么要执行这个命令。也算是方便我自己再装系统。</p>
<blockquote>
<p>主要参考来源：</p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/installation_guide">Installation guide - ArchWiki (archlinux.org)</a></p>
<p><a target="_blank" rel="noopener" href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/">Arch Linux 安装使用教程 - ArchTutorial - Arch Linux Studio</a></p>
<p><a target="_blank" rel="noopener" href="https://arch.icekylin.online/guide/rookie/pre-install.html">安装前的准备 | archlinux 简明指南 (icekylin.online)</a></p>
<p><a target="_blank" rel="noopener" href="https://linux.cn/article-14846-1.html">初级：如何在 Arch Linux 中安装 Yay AUR 助手</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ThousandPine/p/17219617.html">将ArchLinux安装到U盘</a></p>
</blockquote>
<h2 id="准备安装媒介"><a href="#准备安装媒介" class="headerlink" title="准备安装媒介"></a>准备安装媒介</h2><p>一个系统肯定不能自己安装自己，没有系统的硬盘什么都没有，怎么安装系统呢？所以我们需要一个安装 Arch Linux 的最小 Arch Linux，这个安装用的 Arch Linux 叫做“安装镜像”（installation image）。</p>
<p>安装镜像很小，可以直接烧录到 U 盘里，启动安装用的 Arch Linux 后，它会把自己拷贝到内存中运行，然后用这个 Arch Linux 给硬盘装 Arch Linux。</p>
<p>所以我们先来准备这个安装媒介。</p>
<h3 id="Step1：下载-ISO-镜像"><a href="#Step1：下载-ISO-镜像" class="headerlink" title="Step1：下载 ISO 镜像"></a>Step1：下载 ISO 镜像</h3><p><a target="_blank" rel="noopener" href="https://archlinux.org/download/">https://archlinux.org/download/</a></p>
<h3 id="Step2：验证-PGP-签名见"><a href="#Step2：验证-PGP-签名见" class="headerlink" title="Step2：验证 PGP 签名见"></a>Step2：验证 PGP 签名见</h3><p><a href="/archives/2024/tech/gpg.html">写给那个没什么人下载的 PGP 签名文件</a></p>
<h3 id="Step3：下载-Rufus"><a href="#Step3：下载-Rufus" class="headerlink" title="Step3：下载 Rufus"></a>Step3：下载 Rufus</h3><p><a target="_blank" rel="noopener" href="https://rufus.ie/zh/">https://rufus.ie/zh/</a></p>
<h3 id="Step4-将-ISO-烧录进-U-盘"><a href="#Step4-将-ISO-烧录进-U-盘" class="headerlink" title="Step4: 将 ISO 烧录进 U 盘"></a>Step4: 将 ISO 烧录进 U 盘</h3><p>图形界面很容易，注意选择 GPT 和 UEFI 就行。</p>
<p><img src="https://imgcdn.illlights.com/archlinux/33c11007-7128-447d-896b-6a75a64373d0.png" alt="烧录过程"></p>
<h2 id="进入安装用系统（Live-System）准备硬盘安装"><a href="#进入安装用系统（Live-System）准备硬盘安装" class="headerlink" title="进入安装用系统（Live System）准备硬盘安装"></a>进入安装用系统（Live System）准备硬盘安装</h2><p>重新启动电脑，在 BIOS 中设置为 U 盘启动。</p>
<p>现在你就已经进入内存中的 Arch Linux，默认 root 登录，这时候已经可以拔掉 U 盘，避免后面分不清要在哪里装。</p>
<h3 id="Step5：禁用-reflector（为什么？）"><a href="#Step5：禁用-reflector（为什么？）" class="headerlink" title="Step5：禁用 reflector（为什么？）"></a>Step5：禁用 reflector（<a target="_blank" rel="noopener" href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install?id=_0%E7%A6%81%E7%94%A8-reflector">为什么？</a>）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl stop reflector.service</span><br></pre></td></tr></table></figure>

<h3 id="Step6：验证-UEFI-启动"><a href="#Step6：验证-UEFI-启动" class="headerlink" title="Step6：验证 UEFI 启动"></a>Step6：验证 UEFI 启动</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> /sys/firmware/efi/fw_platform_size</span><br></pre></td></tr></table></figure>

<p>没报错就行</p>
<h3 id="Step7：联网"><a href="#Step7：联网" class="headerlink" title="Step7：联网"></a>Step7：联网</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ ip <span class="built_in">link</span> <span class="comment"># 显示网络设备</span></span><br><span class="line"><span class="comment"># 有线网络自动联网，以下是 Wifi 网卡连接命令</span></span><br><span class="line">$ iwctl                           <span class="comment"># 执行iwctl命令，进入交互式命令行</span></span><br><span class="line">device list                     <span class="comment"># 列出设备名，比如无线网卡看到叫 wlan0</span></span><br><span class="line">station wlan0 scan              <span class="comment"># 扫描网络</span></span><br><span class="line">station wlan0 get-networks      <span class="comment"># 列出网络 比如想连接YOUR-WIRELESS-NAME这个无线</span></span><br><span class="line">station wlan0 connect YOUR-WIRELESS-NAME <span class="comment"># 进行连接 输入密码即可</span></span><br><span class="line"><span class="built_in">exit</span>                            <span class="comment"># 成功后exit退出</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 连通性测试</span></span><br><span class="line">$ ping archlinux.org</span><br></pre></td></tr></table></figure>

<h3 id="Step8：更新时间"><a href="#Step8：更新时间" class="headerlink" title="Step8：更新时间"></a>Step8：更新时间</h3><p>默认美国地区好像用的是 UTC-4，所以如果之前有装 Windows 等系统用 UTC+8的时间不对</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ timedatectl</span><br></pre></td></tr></table></figure>

<h3 id="Step9：确认安装到那个硬盘"><a href="#Step9：确认安装到那个硬盘" class="headerlink" title="Step9：确认安装到那个硬盘"></a>Step9：确认安装到那个硬盘</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ fdisk -l</span><br></pre></td></tr></table></figure>

<p>会显示设备和分区，一般机械硬盘是 <code>/dev/sda</code> <code>/dev/sdb</code>，这里的<code>a</code>和<code>b</code>是不同的硬盘，而每一个硬盘的分区用<code>/dev/sda1</code>区分。 nvme设备则是 <code>/dev/nvme0</code> <code>/dev/nvme1</code>区分硬盘，详见 <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Device_file#Block_devices">Device file - ArchWiki (archlinux.org)</a></p>
<h3 id="Step10：分区"><a href="#Step10：分区" class="headerlink" title="Step10：分区"></a>Step10：分区</h3><p>合理的分区需要自己多摸索，这里列出我惯用的分区：</p>
<table>
<thead>
<tr>
<th>用途</th>
<th>挂载点</th>
<th>类型</th>
<th>大小</th>
</tr>
</thead>
<tbody><tr>
<td>EFI 分区</td>
<td>&#x2F;efi <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/EFI_system_partition#Mount_the_partition">?</a></td>
<td><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/EFI_system_partition">EFI system partition</a>（EF00）</td>
<td>800M</td>
</tr>
<tr>
<td>根目录分区</td>
<td>&#x2F;</td>
<td>Linux filesystem（8304）</td>
<td>100G</td>
</tr>
<tr>
<td>SWAP 分区</td>
<td>&#x2F;swapfile</td>
<td>Linux swap （8200）</td>
<td>1.5 * 内存大小  <a target="_blank" rel="noopener" href="https://docs.redhat.com/zh_hans/documentation/red_hat_enterprise_linux/6/html/installation_guide/s2-diskpartrecommend-x86#idm140648079711424">?</a></td>
</tr>
<tr>
<td>HOME 分区</td>
<td>&#x2F;home</td>
<td>Linux home（8302）</td>
<td>剩余所有</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ lsblk                       <span class="comment">#显示分区情况 找到你想安装的磁盘名称</span></span><br><span class="line">$ parted /dev/sdx             <span class="comment">#执行parted，进入交互式命令行，进行磁盘类型变更</span></span><br><span class="line">mktable             <span class="comment">#输入mktable</span></span><br><span class="line">New disk label <span class="built_in">type</span>? gpt    <span class="comment">#输入gpt 将磁盘类型转换为gpt 如磁盘有数据会警告，输入yes即可</span></span><br><span class="line">quit                        <span class="comment">#最后quit退出parted命令行交互</span></span><br><span class="line">$ cfdisk /dev/sdx <span class="comment">#来执行分区操作,分配各个分区大小，类型</span></span><br></pre></td></tr></table></figure>

<p>也可以用<code>gdisk /dev/sdX #X替换成自己设备名对应的字母</code> 进入分区工具</p>
<p>删除已有分区</p>
<ol>
<li><p>输入<code>p</code>打印分区列表</p>
</li>
<li><p>输入<code>d</code>后再输入分区编号删除分区，重复操作直到将所有分区删除。</p>
</li>
<li><p>再输入一次<code>p</code>，确保输出的分区列表为空。</p>
</li>
</ol>
<p>创建新分区</p>
<ol>
<li>输入<code>n</code>添加分区</li>
<li>前两项分别是分区编号和起始位置，直接回车跳过使用默认值</li>
<li>第三个是分区结束位置，输入<code>+512M</code>分配512M空间。</li>
<li>第四个是分区类型，输入<code>EF00</code>设置为EFI System partition</li>
</ol>
<h3 id="Step11：格式化"><a href="#Step11：格式化" class="headerlink" title="Step11：格式化"></a>Step11：格式化</h3><p>先查看各分区名称</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ fdisk -l <span class="comment">#分区结束后， 复查磁盘情况</span></span><br></pre></td></tr></table></figure>

<p>根目录和 HOME 分区格式化为 <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Ext4">Ext4</a> 文件系统</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkfs.ext4 /dev/root_partition</span><br></pre></td></tr></table></figure>

<p>SWAP 分区用 <a target="_blank" rel="noopener" href="https://man.archlinux.org/man/mkswap.8">mkswap(8)</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkswap /dev/swap_partition</span><br></pre></td></tr></table></figure>

<p>EFI 分区格式化为 <a target="_blank" rel="noopener" href="https://man.archlinux.org/man/mkfs.fat.8">mkfs.fat(8)</a>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkfs.fat -F 32 /dev/efi_system_partition</span><br></pre></td></tr></table></figure>

<h3 id="Step12：挂载系统"><a href="#Step12：挂载系统" class="headerlink" title="Step12：挂载系统"></a>Step12：挂载系统</h3><p>Linux 可以将储存媒介挂载为文件夹，见<a target="_blank" rel="noopener" href="https://github.com/0voice/linux_kernel_wiki/blob/main/%E6%96%87%E7%AB%A0/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E8%AF%A6%E8%A7%A3.md">linux_kernel_wiki&#x2F;文章&#x2F;文件系统&#x2F;Linux文件系统详解</a>，只有挂载上文件夹，我们才能在这个内存中的系统中操作硬盘，为硬盘安装系统。</p>
<p>注意挂载顺序！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mount /dev/sdax  /mnt  </span><br><span class="line">$ mount /dev/sdax /mnt/efi --<span class="built_in">mkdir</span> <span class="comment"># 挂载efi目录</span></span><br><span class="line">$ mount /dev/sdax /mnt/home --<span class="built_in">mkdir</span> <span class="comment"># 挂载home目录</span></span><br><span class="line">$ swapon /dev/swap_partition <span class="comment"># genfstab(8) will later detect mounted file systems and swap space.</span></span><br></pre></td></tr></table></figure>



<h2 id="将-Arch-Linux-安装到硬盘中"><a href="#将-Arch-Linux-安装到硬盘中" class="headerlink" title="将 Arch Linux 安装到硬盘中"></a>将 Arch Linux 安装到硬盘中</h2><p>接下来使用内存中的 Arch Linux 安装硬盘里的 Arch Linux。</p>
<h3 id="Step13：为内存中的-Arch-Linux-更换镜像源"><a href="#Step13：为内存中的-Arch-Linux-更换镜像源" class="headerlink" title="Step13：为内存中的 Arch Linux 更换镜像源"></a>Step13：为内存中的 Arch Linux 更换镜像源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/pacman.d/mirrorlist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加到首行</span></span><br><span class="line"><span class="comment"># Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch</span></span><br><span class="line"><span class="comment"># Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</span></span><br></pre></td></tr></table></figure>

<h3 id="Step14：安装系统"><a href="#Step14：安装系统" class="headerlink" title="Step14：安装系统"></a>Step14：安装系统</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pacstrap /mnt base base-devel linux linux-headers linux-firmware</span><br><span class="line">$ pacstrap /mnt dhcpcd iwd vim bash-completion   <span class="comment">#一个有线所需(iwd也需要dhcpcd) 一个无线所需 一个编辑器 一个补全工具</span></span><br></pre></td></tr></table></figure>

<h3 id="Step15：fstab-用来定义磁盘分区"><a href="#Step15：fstab-用来定义磁盘分区" class="headerlink" title="Step15：fstab 用来定义磁盘分区"></a>Step15：fstab 用来定义磁盘分区</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br><span class="line">$ <span class="built_in">cat</span> /mnt/etc/fstab <span class="comment"># 复查一下 /mnt/etc/fstab 确保没有错误</span></span><br></pre></td></tr></table></figure>



<h2 id="配置硬盘中的-Arch-Linux"><a href="#配置硬盘中的-Arch-Linux" class="headerlink" title="配置硬盘中的 Arch Linux"></a>配置硬盘中的 Arch Linux</h2><h3 id="Step16：把环境切换到新系统的-mnt-下"><a href="#Step16：把环境切换到新系统的-mnt-下" class="headerlink" title="Step16：把环境切换到新系统的&#x2F;mnt 下"></a>Step16：把环境切换到新系统的&#x2F;mnt 下</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ arch-chroot /mnt</span><br></pre></td></tr></table></figure>

<h3 id="Step17：设置时区"><a href="#Step17：设置时区" class="headerlink" title="Step17：设置时区"></a>Step17：设置时区</h3><p>在&#x2F;etc&#x2F;localtime 下用&#x2F;usr 中合适的时区创建符号连接。如下设置上海时区。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure>

<p>随后进行硬件时间设置，将当前的正确 UTC 时间写入硬件时间。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hwclock --systohc</span><br></pre></td></tr></table></figure>

<h3 id="Step19：设置-Locale-进行本地化"><a href="#Step19：设置-Locale-进行本地化" class="headerlink" title="Step19：设置 Locale 进行本地化"></a>Step19：设置 Locale 进行本地化</h3><p>Locale 决定了地域、货币、时区日期的格式、字符排列方式和其他本地化标准。</p>
<p>首先使用 vim 编辑 &#x2F;etc&#x2F;locale.gen，去掉 en_US.UTF-8 所在行以及 zh_CN.UTF-8 所在行的注释符号（#）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/locale.gen</span><br></pre></td></tr></table></figure>

<p>然后使用如下命令生成 locale。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ locale-gen</span><br></pre></td></tr></table></figure>

<p>最后向 &#x2F;etc&#x2F;locale.conf 导入内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;LANG=en_US.UTF-8&#x27;</span>  &gt; /etc/locale.conf</span><br></pre></td></tr></table></figure>

<h3 id="Step19：设置主机名"><a href="#Step19：设置主机名" class="headerlink" title="Step19：设置主机名"></a>Step19：设置主机名</h3><p>首先在<code>/etc/hostname</code>设置主机名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/hostname</span><br></pre></td></tr></table></figure>

<p>加入你想为主机取的主机名，这里比如叫 myarch。</p>
<p>接下来在<code>/etc/hosts</code>设置与其匹配的条目。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/hosts</span><br></pre></td></tr></table></figure>

<p>加入如下内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1   localhost</span><br><span class="line">::1         localhost</span><br><span class="line">127.0.1.1   myarch</span><br></pre></td></tr></table></figure>

<h3 id="Step20：为-root-用户设置密码"><a href="#Step20：为-root-用户设置密码" class="headerlink" title="Step20：为 root 用户设置密码"></a>Step20：为 root 用户设置密码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ passwd root</span><br></pre></td></tr></table></figure>

<h3 id="Step21：安装微码"><a href="#Step21：安装微码" class="headerlink" title="Step21：安装微码"></a>Step21：安装微码</h3><p>两个都要安装，我用的 Intel 的 CPU 和网卡，但是不装 AMD 的微码网卡用不了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pacman -S intel-ucode   <span class="comment">#Intel</span></span><br><span class="line">$ pacman -S amd-ucode     <span class="comment">#AMD</span></span><br></pre></td></tr></table></figure>

<h3 id="Step22：安装引导程序"><a href="#Step22：安装引导程序" class="headerlink" title="Step22：安装引导程序"></a>Step22：安装引导程序</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pacman -S grub efibootmgr   <span class="comment"># grub是启动引导器，efibootmgr被 grub 脚本用来将启动项写入 NVRAM。</span></span><br><span class="line">$ grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=GRUB</span><br></pre></td></tr></table></figure>

<p>接下来编辑&#x2F;etc&#x2F;default&#x2F;grub 文件，去掉<code>GRUB_CMDLINE_LINUX_DEFAULT</code>一行中最后的 quiet 参数，同时把 log level 的数值从 3 改成 5。这样是为了后续如果出现系统错误，方便排错。同时在同一行加入 nowatchdog 参数，这可以显著提高开关机速度。这里需要使用 vim 的编辑功能，如果你忘记了，请翻到上一节复习 vim 的操作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/default/grub</span><br></pre></td></tr></table></figure>

<p>使用 N 卡的用户需要注意，KDE6 默认使用 wayland session 为默认，如果你需要使用 wayland,则需开启 DRM。同样编辑&#x2F;etc&#x2F;default&#x2F;grub 文件，在<code>GRUB_CMDLINE_LINUX_DEFAULT</code>一行中最后的加入参数：nvidia_drm.modeset&#x3D;1</p>
<p>最后生成 GRUB 所需的配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我们在之前的命令中指定了 bootloader-id 为 GRUB，这一般不会出现问题。然而在某些主板安装完成后，你会发现没有 nvme 启动条目。这是因为某些主板的 UEFI 固件在显示 UEFI NVRAM 引导条目之前，需要在特定的位置存放可引导文件，不支持自定义存放 efi 文件[<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/GRUB#Default/fallback_boot_path">6]</a>。解决方式是使用<code>--removable</code> 参数解决一些主板 NVRAM 的兼容性问题。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ grub-install --target=x86_64-efi --efi-directory=/efi --removable</span><br><span class="line">$ grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>

<p>除此之外，如果你的主板是一些较老的型号，如 intel 9 系列以下或者较老 AMD 的主板，它们很可能不支持从 nvme 启动系统，虽然可以通过修改 BIOS 加入 NVME 支持模块来解决，但这不在本文讨论范围内。</p>
<h3 id="完成安装"><a href="#完成安装" class="headerlink" title="完成安装"></a>完成安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">exit</span>                <span class="comment"># 退回安装环境#</span></span><br><span class="line">$ umount -R  /mnt     <span class="comment"># 卸载新分区</span></span><br><span class="line">$ reboot              <span class="comment"># 重启</span></span><br></pre></td></tr></table></figure>



<h2 id="新系统的基本设置"><a href="#新系统的基本设置" class="headerlink" title="新系统的基本设置"></a>新系统的基本设置</h2><h3 id="Step1：更新系统"><a href="#Step1：更新系统" class="headerlink" title="Step1：更新系统"></a>Step1：更新系统</h3><p>先按照上节末尾处的方式重新连接网络（可能要先启动一下 <code>iwd</code>），然后更新系统。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl start iwd <span class="comment"># 如果使用无线网络，先启动iwd</span></span><br><span class="line">$ iwctl</span><br><span class="line"></span><br><span class="line">$ systemctl start dhcpcd  <span class="comment"># 如果使用有线网络，启动dncpcd即可</span></span><br><span class="line"></span><br><span class="line">$ pacman -Syyu    <span class="comment"># 升级系统中全部包</span></span><br></pre></td></tr></table></figure>

<h3 id="Step2：准备非-root-用户"><a href="#Step2：准备非-root-用户" class="headerlink" title="Step2：准备非 root 用户"></a>Step2：准备非 root 用户</h3><p>添加用户，比如新增加的用户叫 illlights</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ useradd -m -G wheel -s /bin/bash illlights  <span class="comment">#wheel附加组可sudo，以root用户执行命令 -m同时创建用户家目录</span></span><br><span class="line">$ passwd illlights <span class="comment"># 设置新用户 illlights 的密码</span></span><br></pre></td></tr></table></figure>

<p>编辑 sudoers 配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ EDITOR=vim visudo  <span class="comment"># 需要以 root 用户运行 visudo 命令</span></span><br></pre></td></tr></table></figure>

<p>找到下面这样的一行，把前面的注释符号 <code>#</code> 去掉，<code>:wq</code> 保存并退出即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%wheel ALL=(ALL:ALL) ALL</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里稍微解释一下 %wheel 代表是 wheel 组，百分号是前缀 ALL&#x3D; 代表在所有主机上都生效(如果把同样的 sudoers 文件下发到了多个主机上) (ALL) 代表可以成为任意目标用户 ALL 代表可以执行任意命令 一个更详细的例子:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%mailadmin   snow,rain=(root) /usr/sbin/postfix, /usr/sbin/postsuper, /usr/bin/doveadm</span><br><span class="line">nobody       ALL=(root) NOPASSWD: /usr/sbin/rndc reload</span><br></pre></td></tr></table></figure>

<p>组 mailadmin 可以作为 root 用户，执行一些邮件服务器控制命令。可以在 “snow” 和 “rain”这两台主机上执行 用户 nobody 可以以 root 用户执行 rndc reload 命令。可以在所有主机上执行。同时可以不输入密码。(正常来说 sudo 都是要求输入调用方的密码的)</p>
</blockquote>
<h3 id="Step3：安装-KDE-Plasma-桌面环境"><a href="#Step3：安装-KDE-Plasma-桌面环境" class="headerlink" title="Step3：安装 KDE Plasma 桌面环境"></a>Step3：安装 KDE Plasma 桌面环境</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pacman -S plasma-meta konsole dolphin  <span class="comment">#安装plasma-meta元软件包以及终端和文件管理器</span></span><br></pre></td></tr></table></figure>

<h3 id="Step4：配置-greeter-sddm"><a href="#Step4：配置-greeter-sddm" class="headerlink" title="Step4：配置 greeter sddm"></a>Step4：配置 greeter sddm</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl <span class="built_in">enable</span> sddm</span><br></pre></td></tr></table></figure>

<h3 id="Step5：开启-32-位支持库"><a href="#Step5：开启-32-位支持库" class="headerlink" title="Step5：开启 32 位支持库"></a>Step5：开启 32 位支持库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/pacman.conf</span><br></pre></td></tr></table></figure>

<p>去掉[multilib]一节中两行的注释，来开启 32 位库支持。</p>
<p>最后:wq 保存退出，刷新 pacman 数据库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pacman -Syyu</span><br></pre></td></tr></table></figure>

<p>重启电脑，即可看到欢迎界面，输入新用户的密码即可登录桌面</p>
<p>其他的基本安装可继续参考<a target="_blank" rel="noopener" href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/DE&App">桌面环境与必要应用 (archlinuxstudio.github.io)</a></p>
</div>          
          <nav class="post-nav">
    
    <a class="post-nav-item post-nav-prev" href="/archives/2025/reading/reading2501.html">
      <div class="nav-arrow">&lt;&nbsp;NEWER</div>
      <span class="post-title">2025.01 阅读记录📝</span>
    </a>
    
    
    <a class="post-nav-item post-nav-next" href="/archives/2024/tech/gpg.html">
      <div class="nav-arrow">OLDER&nbsp;&gt;</div>
      <span class="post-title">写给那个没什么人下载的 PGP 签名文件</span>
    </a>
    
  </nav>

   </main>
</div>

  <footer class="footer">
    <small class="footer_copyright">
      <div id="bottom-inner">
        © Site by illlights<br>
        <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a> &
        <a target="_blank" rel="noopener" href="https://github.com/illlights/hexo-theme-Klise-enhanced">Klise-enhanced</a>
        <br>
        始于2021.
        
      </div>
    </small>
  </footer>
  
  

    
      <script src="/js/main.js"></script>
    
  
  <script>
    window.FPConfig = {
      delay: 0,
      ignoreKeywords: [],
      maxRPS: 3,
      hoverDelay: 50,
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.body.classList.add('loaded');
    });
  </script>
</body>
</html>
